<Partial xmlns="clr-namespace:A2v10.Xaml;assembly=A2v10.Xaml">
	<CollectionView ItemsSource="{Bind Groups}" RunAt="Server">
		<CollectionView.Filter>
			<FilterDescription>
				<FilterItem Property="Hierarchy" DataType="Number"/>
			</FilterDescription>
		</CollectionView.Filter>
		<EmptyPanel If="{Bind Hierarchies.$isEmpty}">
			<Text>Групувань ще немає.
				<Hyperlink Content="Cтворити нове групування"/>
			</Text>
		</EmptyPanel>
		<Grid Height="100%" Rows="Auto,1*" Padding="0" If="{Bind !Hierarchies.$isEmpty}">
			<Toolbar XamlStyle="{StyleResource ToolbarLight}" Grid.Row="1">
				<Button Icon="Plus" Content="@[Create]" Command="{BindCmd Execute, CommandName=addItem}" />
				<Button Icon="Edit" />
				<Button Icon="Delete" />
				<Separator />
				<ComboBox Label="@[Grouping]" Width="20rem"
						  ItemsSource="{Bind Hierarchies}" Value="{Bind Parent.Filter.Hierarchy}">
					<ComboBoxItem Content="{Bind Name}" Value="{Bind Id}"/>
				</ComboBox>
				<Button Icon="GearOutline" Tip="Налаштування групувань"/>
			</Toolbar>
			<TreeView Grid.Row="2" ItemsSource="{Bind Groups}" Indent="True" Grid.VAlign="Stretch"
					  AutoSelect="FirstItem" Width="36rem"
					  FolderSelect="True">
				<TreeViewItem ItemsSource="{Bind Items}" Icon="{Bind Icon}"
						Label="{Bind Name}" IsFolder="{Bind HasItems}"/>
			</TreeView>
		</Grid>
	</CollectionView>
</Partial>